<div class="p-8">
  <div class="flex justify-between items-center mb-6">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Contacts</h1>
      <p class="text-gray-500 mt-1">
        Manage your contact database and targeting preferences
      </p>
    </div>
    <button
      (click)="openAddContactModal()"
      class="bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-colors duration-300 ease-in-out hover:bg-purple-700 flex items-center space-x-2"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        viewBox="0 0 24 24"
        fill="currentColor"
      >
        <path
          d="M12 5v14m-7-7h14"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
      </svg>
      <span>Add Contact</span>
    </button>
  </div>

  <!-- 🔍 Search & Filters -->
  <div class="flex items-center space-x-4 mb-8">
    <div
      class="flex items-center w-full bg-white rounded-lg shadow-sm border border-gray-200 px-4 py-2"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 text-gray-400 mr-2"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
        ></path>
      </svg>
      <input
        type="text"
        placeholder="Search contacts by name, email, or company..."
        class="w-full text-gray-700 focus:outline-none placeholder-gray-400"
      />
    </div>
    <button
      class="bg-white text-gray-500 font-semibold py-2 px-4 rounded-lg shadow-sm border border-gray-200 transition-colors duration-200 ease-in-out hover:bg-gray-100 flex items-center space-x-2 whitespace-nowrap"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        viewBox="0 0 24 24"
        fill="currentColor"
      >
        <path
          d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
      </svg>
      <span>Filters</span>
    </button>
  </div>

  <!-- 📇 Contact Grid -->
  <div
    class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
  >
    <div
      *ngFor="let contact of contacts"
      class="bg-white p-6 rounded-lg shadow-md border border-gray-200 relative transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1 group"
    >
      <!-- Hover Actions -->
      <div
        class="absolute top-4 right-4 bg-white shadow-md rounded-lg p-1 flex space-x-1 opacity-0 transition-opacity duration-300 group-hover:opacity-100"
      >
        <button
          class="p-2 rounded-md hover:bg-gray-100 text-gray-500 hover:text-gray-700"
        >
          👁
        </button>
        <button
          class="p-2 rounded-md hover:bg-gray-100 text-gray-500 hover:text-violet-600"
        >
          ✏️
        </button>
        <button
          class="p-2 rounded-md hover:bg-gray-100 text-gray-500 hover:text-red-600"
        >
          🗑
        </button>
      </div>

      <div class="flex items-center justify-between mb-2">
        <h3 class="font-bold text-gray-900">{{ contact.name }}</h3>
        <span
          class="text-xs font-semibold px-2 py-1 rounded-full"
          [ngClass]="{
            'bg-green-100 text-green-800': contact.status === 'Active',
            'bg-yellow-100 text-yellow-800': contact.status === 'Pending',
            'bg-gray-200 text-gray-700': contact.status === 'Inactive'
          }"
        >
          {{ contact.status }}
        </span>
      </div>

      <p class="text-sm text-gray-500 mb-2">📧 {{ contact.email }}</p>
      <p class="text-sm text-gray-500 mb-2">📞 {{ contact.phone }}</p>
      <div class="text-sm text-gray-500 mb-2">
        <p>📍 {{ contact.location }}</p>
        <p class="font-medium text-gray-900 mt-1">{{ contact.role }}</p>
        <p class="text-gray-500">{{ contact.company }}</p>
      </div>

      <div class="flex items-center space-x-2 mb-2">
        <span
          *ngFor="let tag of contact.tags"
          class="text-xs px-2 py-1 rounded-full"
          [ngClass]="{
            'bg-violet-100 text-violet-700': tag === 'targeted',
            'bg-gray-200 text-gray-700': tag === 'non targeted',
            'bg-red-100 text-red-700': tag === 'high priority',
            'bg-orange-100 text-orange-700': tag === 'warm lead'
          }"
        >
          {{ tag }}
        </span>
      </div>

      <p class="text-xs text-gray-400">
        Last contact: {{ contact.lastContact }}
      </p>
    </div>
  </div>

  <!-- 📑 Pagination -->
  <div class="flex justify-between items-center mt-8 text-gray-600">
    <p class="text-sm">Showing 1-20 of 100 contacts</p>
    <div class="flex items-center space-x-2">
      <button
        class="px-3 py-1 rounded-lg border border-gray-300 transition-colors duration-200 ease-in-out hover:bg-gray-200"
      >
        &lt; Previous
      </button>
      <div class="flex space-x-1">
        <button
          class="px-3 py-1 rounded-lg bg-gray-200 text-gray-900 font-semibold"
        >
          1
        </button>
        <button class="px-3 py-1 rounded-lg hover:bg-gray-200">2</button>
        <button class="px-3 py-1 rounded-lg hover:bg-gray-200">3</button>
        <button class="px-3 py-1 rounded-lg hover:bg-gray-200">4</button>
        <button class="px-3 py-1 rounded-lg hover:bg-gray-200">5</button>
        <span class="px-3 py-1">...</span>
      </div>
      <button
        class="px-3 py-1 rounded-lg border border-gray-300 transition-colors duration-200 ease-in-out hover:bg-gray-200"
      >
        Next &gt;
      </button>
    </div>
  </div>
</div>

<!-- 🟣 Add Contact Modal -->
<div
  *ngIf="showAddModal"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
>
  <div class="bg-white rounded-xl shadow-lg w-full max-w-md p-6 relative">
    <button
      (click)="closeAddContactModal()"
      class="absolute top-3 right-3 text-gray-400 hover:text-gray-600"
    >
      ✕
    </button>

    <h2 class="text-2xl font-bold text-gray-900 mb-4">Add New Contact</h2>

    <form (ngSubmit)="saveContact()" #addContactForm="ngForm">
      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Full Name</label
        >
        <input
          type="text"
          name="name"
          [(ngModel)]="newContact.name"
          required
          placeholder="Enter full name"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
        />
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Phone Number</label
        >
        <input
          type="tel"
          name="phone"
          [(ngModel)]="newContact.phone"
          required
          placeholder="Enter phone number"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
        />
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input
          type="email"
          name="email"
          [(ngModel)]="newContact.email"
          placeholder="Enter email"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
        />
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1">Company</label>
        <input
          type="text"
          name="company"
          [(ngModel)]="newContact.company"
          placeholder="Enter company"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
        />
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1">Role</label>
        <input
          type="text"
          name="role"
          [(ngModel)]="newContact.role"
          placeholder="Enter role"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
        />
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Tags (comma separated)</label
        >
        <input
          type="text"
          name="tags"
          [(ngModel)]="newContact.tags"
          placeholder="e.g., targeted, vip"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
        />
      </div>

      <div class="flex justify-end space-x-3">
        <button
          type="button"
          (click)="closeAddContactModal()"
          class="px-4 py-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-100"
        >
          Cancel
        </button>
        <button
          type="submit"
          [disabled]="addContactForm.invalid"
          class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50"
        >
          Save Contact
        </button>
      </div>
    </form>
  </div>
</div>
